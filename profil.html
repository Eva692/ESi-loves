<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>ESI L.O.V.E - Chat</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body {
            background: #f0f2f5;
            font-family: 'Segoe UI', Arial, sans-serif;
            margin: 0;
            padding: 0;
        }
        .chat-app {
            max-width: 500px;
            margin: 40px auto;
            background: #fff;
            border-radius: 14px;
            box-shadow: 0 2px 16px #0001;
            display: flex;
            flex-direction: column;
            min-height: 600px;
        }
        .chat-header {
            background: #1877f2;
            color: #fff;
            text-align: center;
            padding: 22px 0 18px 0;
            border-radius: 14px 14px 0 0;
            font-size: 1.5rem;
            font-weight: bold;
            letter-spacing: 2px;
        }
        .user-switch {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 12px 0;
        }
        .user-switch button {
            background: #e4e6eb;
            border: none;
            border-radius: 20px;
            padding: 6px 20px;
            font-size: 1rem;
            cursor: pointer;
            transition: background 0.2s;
        }
        .user-switch .active {
            background: #1877f2;
            color: #fff;
        }
        .chat-messages {
            flex: 1;
            padding: 12px 16px;
            overflow-y: auto;
            background: #f0f2f5;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        .msg-row {
            display: flex;
            align-items: flex-end;
        }
        .msg-row.user1 {
            justify-content: flex-start;
        }
        .msg-row.user2 {
            justify-content: flex-end;
        }
        .msg-bubble {
            max-width: 70%;
            padding: 10px 14px;
            border-radius: 18px;
            font-size: 1rem;
            line-height: 1.3;
            position: relative;
            box-shadow: 0 2px 8px #0001;
            margin: 0 6px;
        }
        .msg-row.user1 .msg-bubble {
            background: #e7f3ff;
            color: #222;
            border-bottom-left-radius: 5px;
        }
        .msg-row.user2 .msg-bubble {
            background: #DCF8C6;
            color: #222;
            border-bottom-right-radius: 5px;
        }
        .avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: #eee;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.1rem;
            margin: 0 4px;
            border: 2px solid #fff;
            box-shadow: 0 1px 4px #0002;
        }
        .input-area {
            display: flex;
            gap: 8px;
            padding: 14px 16px;
            background: #fff;
            border-radius: 0 0 14px 14px;
            border-top: 1px solid #eee;
        }
        .input-area input {
            flex: 1;
            padding: 10px;
            border-radius: 18px;
            border: 1px solid #ccc;
            font-size: 1rem;
            outline: none;
            background: #f0f2f5;
        }
        .input-area button {
            background: #1877f2;
            color: #fff;
            border: none;
            border-radius: 18px;
            padding: 10px 24px;
            font-size: 1rem;
            cursor: pointer;
            transition: background 0.2s;
        }
        .input-area button:hover {
            background: #145ecc;
        }
        @media (max-width: 600px) {
            .chat-app {
                max-width: 100vw;
                margin: 0;
                border-radius: 0;
                min-height: 100vh;
            }
        }
    </style>
</head>
<body>
    <div class="chat-app">
        <div class="chat-header">
            ESI L.O.V.E - Messenger
        </div>
        <div class="user-switch">
            <button id="user1Btn" class="active" onclick="switchUser('User1')">User 1</button>
            <button id="user2Btn" onclick="switchUser('User2')">User 2</button>
        </div>
        <div id="chatMessages" class="chat-messages"></div>
        <form class="input-area" onsubmit="sendMessage(event)">
            <input type="text" id="messageInput" placeholder="Ã‰cris un message..." autocomplete="off" />
            <button type="submit">Envoyer</button>
        </form>
    </div>
    <script>
        // Simulation de 2 utilisateurs
        let currentUser = "User1";
        const avatars = {
            User1: "ðŸ‘©â€ðŸ’»",
            User2: "ðŸ§‘â€ðŸš€"
        };
        let messages = [
            {sender: "User1", content: "Bonjour ! Comment vas-tu aujourdâ€™hui ?"},
            {sender: "User2", content: "Ã‡a va bien, merci ! Et toi ?"}
        ];
        function switchUser(user) {
            currentUser = user;
            document.getElementById('user1Btn').classList.toggle('active', user === "User1");
            document.getElementById('user2Btn').classList.toggle('active', user === "User2");
            document.getElementById('messageInput').placeholder = user === "User1" ? "User 1 Ã©crit..." : "User 2 Ã©crit...";
        }
        function renderMessages() {
            const chat = document.getElementById('chatMessages');
            chat.innerHTML = '';
            messages.forEach(msg => {
                const row = document.createElement('div');
                row.className = "msg-row " + (msg.sender === "User1" ? "user1" : "user2");
                const avatarDiv = document.createElement('div');
                avatarDiv.className = 'avatar';
                avatarDiv.textContent = avatars[msg.sender];
                const bubble = document.createElement('div');
                bubble.className = 'msg-bubble';
                bubble.textContent = msg.content;
                if(msg.sender === "User1") {
                    row.appendChild(avatarDiv);
                    row.appendChild(bubble);
                } else {
                    row.appendChild(bubble);
                    row.appendChild(avatarDiv);
                }
                chat.appendChild(row);
            });
            chat.scrollTop = chat.scrollHeight;
        }
        function sendMessage(e) {
            e.preventDefault();
            const input = document.getElementById('messageInput');
            if (input.value.trim() === "") return;
            messages.push({sender: currentUser, content: input.value});
            renderMessages();
            input.value = "";
            input.focus();
        }
        // Affiche les messages Ã  l'ouverture
        renderMessages();
        // Pour tester en temps rÃ©el : simule un "autre utilisateur" qui rÃ©pond aprÃ¨s 2s
        /*
        setInterval(() => {
            if(currentUser === "User1") {
                messages.push({sender: "User2", content: "Message automatique de User2 !"});
            } else {
                messages.push({sender: "User1", content: "Message automatique de User1 !"});
            }
            renderMessages();
        }, 8000);
        */
    </script>
</body>
</html>
